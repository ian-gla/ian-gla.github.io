<head>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
  <link rel='stylesheet' href='./style.css'/>
  <!-- Make sure you put this AFTER Leaflet's CSS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
  <script src="https://unpkg.com/@turf/turf@%5E7/turf.min.js"></script>
  <title>Getting Lost</title>
</head>

<body>
  <div id='mapbox'>
    <div id="map"></div>

    <div class='resizeable-content' id='sidebar'>
    <div id="info">
      <h1>Getting Lost</h1>
      <p>Please mark on the map roughly where you were coming from and going to and where you got lost. You can drag the flags to the position you want, if necessary zoom in and move them again. Then check as many of the reasons on the right for getting lost as apply. Finally, please click the submit button to send us your information.
    </div>
    <div id='buttonBar'></div>
    <div class="data-panel" id="data-entry-panel">
      <p>Please tell us a little about your self:</p>
      <form id="data-entry-form">
        <label for="age">Age:</label>
        <select id="age">
          <option value="" disabled selected>Select your option</option>
          <option value="18-24">18-24</option>
          <option value="25-34">25-34</option>
          <option value="35-44">35-44</option>
          <option value="45-54">45-54</option>
          <option value="55-64">55-64</option>
          <option value="65+">61+</option>
          <option value='na'>Prefer not to say</option>
        </select>

        <label for="gender">Gender:</label>
        <select id="gender">
          <option value="" disabled selected>Select your option</option>
          <option value="F">Female</option>
          <option value="M">Male</option>
          <option value="O">Other</option>
          <option value="PNTS">Prefer Not To Say</option>
        </select>

        <label for='nav-skill'>How easy do you typically find navigating whilst walking in cities (independent
          of this event)?</label>
        <select id = "nav-skill">
          <option value="" disabled selected>Select your option</option>
          <option value="1">Very Easy</option>
          <option value="2">Somewhat Easy</option>
          <option value="3">Neither Easy or Hard</option>
          <option value="4">Somewhat Hard</option>
          <option value="5">Very Hard</option>
        </select>


        <hr style="margin-top: 15px;">
        <button type="button" onclick="changeView()">Next</button>
        </form>
    </div>
    <div class="data-panel" id="more-data">
      <p>Please tell us a little about how you got lost</p>
      <form id="more-data-entry-form">
        <label for="timeOfDay">Time Of Day:</label>
        <select id="timeOfDay">
          <option value="" disabled selected>Select your option</option>
          <option value="Morning">Morning</option>
          <option value="Afternoon">Afternoon</option>
          <option value="Evening">Evening</option>
          <option value="Night">Night</option>
        </select>

        <label for="dayOfWeek">Which day of the week?:</label>
        <select id="dayOfWeek">
          <option value="" disabled selected>Select your option</option>
          <option value="Monday">Monday</option>
          <option value="Tuesday">Tuesday</option>
          <option value="Wednesday">Wednesday</option>
          <option value="Thursday">Thursday</option>
          <option value="Friday">Friday</option>
          <option value="Saturday">Saturday</option>
          <option value="Sunday">Sunday</option>
        </select>
        <label for="familiarity">How familiar with the area are you:</label>
        <select id="familiarity">
          <option value="" disabled selected>Select your option</option>
          <option value='1'>Not at all familiar</option>
          <option value="2">Somewhat familiar</option>
          <option value="3">Fairly familiar</option>
          <option value="4">Reasonably familiar</option>
          <option value="5">Very familiar</option>
        </select>

        <label for="guidance">Main method of route guidance</label>
        <select id="guidance">
          <option value="" disabled selected>Select your option</option>
          <option value="1">Smart Phone/Sat Nav</option>
          <option value="2">Paper Map</option>
          <option value="3">Someone else's directions</option>
          <option value="4">Street Signs</option>
          <option value="5">I was just wandering</option>
        </select>

        <label for="group">Was anyone walking with you?</label>
        <select id="group">
          <option value="" disabled selected>Select your option</option>
          <option value='0'>No</option>
          <option value='1'>Yes</option>
        </select>

        <label for="context">Please describe the context in which you got lost in your own words</label>
        <textarea id="context" rows="3"></textarea>


        <label for="factors">What was the most important factor in you getting lost?</label>
        <select id="factors">
          <option value="" disabled selected>Select your option</option>
          <option value="1">Environment</option>
          <option value="2">Street layout</option>
          <option value="3">Number of people</option>
          <option value="4">Busy streets</option>
          <option value="5">Complex street signs</option>
        </select>

        <label for="explain">Open-ended explanation of why you got lost</label>
        <textarea id="explain"></textarea>
        <hr style="margin-top: 15px;">
        <button type="button" onClick="displayChecks()">Back</button>
        <button type="button" onclick="checkData()">Save</button>
      </form>

    </div>
  </div>
  </div>
  <dialog id="markers">
    <div class="message" id="message"></div>
    <button>Cancel</button> <button>Proceed</button>
  </dialog>
  <dialog id="submit">
    Is this information correct? are you happy to send it to us?
    <div class="message" id="submessage"></div>
    <button>Cancel</button> <button>Proceed</button>
  </dialog>
  <script src='./script.js'></script>
</body>
